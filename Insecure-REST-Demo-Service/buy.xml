<?xml version="1.0" encoding="UTF-8"?>
<con:restMockAction name="buy" method="POST" resourcePath="/buy" id="0ac178fa-4500-41b2-81f7-429d9b78804d" xmlns:con="http://eviware.com/soapui/config">
            <con:settings><con:setting id="ac8250b4-a453-4acb-ace2-9cb35ecec996fileName">buy</con:setting><con:setting id="0ac178fa-4500-41b2-81f7-429d9b78804dfileName">buy</con:setting></con:settings>
            <con:defaultResponse>Item 1 Response</con:defaultResponse>
            <con:dispatchStyle>SCRIPT</con:dispatchStyle>
            <con:dispatchConfig/>
            <con:dispatchPath>def queryString = mockRequest.getRequest().getQueryString()

                String[] fields = queryString.split("&amp;");
                String[] kv;

                HashMap&lt;String, String> params = new HashMap&lt;String, String>()
                for (int i = 0; i &lt; fields.length; ++i){
                kv = fields[i].split("=");
                if (2 == kv.length)
                params.put(kv[0], kv[1]);
                }

                def buystring = URLDecoder.decode(params.get("buystring"), "UTF-8")

                if (buystring == "all")
                return "WildCard Response"
                else if (buystring == "Item 1")
                return "Item 1 Response"
                else if (buystring == "Item 2")
                return "Item 2 Response"
                else if (buystring == "Item 3")
                return "Item 3 Response"
                else if (buystring == "Item 4")
                return "Item 3 Response"
                else if (buystring == "Item 5")
                return "Item 5 Response"
                else
                return "Unknown Response"


                return "Search Response"
            </con:dispatchPath>
            <con:dispatchXPath/>
            <con:parameterDispatcherRuleContainer/>
            <con:routeEnabled>false</con:routeEnabled><con:conditionalRoutingEnabled>false</con:conditionalRoutingEnabled><con:routeScript/>
            <con:response name="Item 1 Response" id="47b9f07f-6f9a-475d-980c-bccb99ba3beb" httpResponseStatus="200" mediaType="application/json" dataSource="" compressedBodyContent="aced00057372002f636f6d2e657669776172652e736f617075692e696d706c2e737570706f72742e436f6d7072657373656456616c7565000b8b02c748eeab0200025a000a636f6d707265737365645b0004646174617400025b4278700070">
                <con:settings/>
                <con:responseContent>{
                    "purchasestatus": {
                    "id": "Item 1",
                    "stockStatus": "1 unit",
                    "expectedDelivery": "2000 years from now"
                    }
                    }
                </con:responseContent>
            </con:response>
            <con:response name="Item 2 Response" id="4c7142fd-2815-4fb8-ae9c-598f30abd8e7" httpResponseStatus="200" mediaType="application/json" dataSource="" compressedBodyContent="aced00057372002f636f6d2e657669776172652e736f617075692e696d706c2e737570706f72742e436f6d7072657373656456616c7565000b8b02c748eeab0200025a000a636f6d707265737365645b0004646174617400025b4278700070">
                <con:settings/>
                <con:responseContent>{
                    "purchasestatus": {
                    "id": "Item 2",
                    "stockStatus": "10 000 boxes",
                    "expectedDelivery": "1 week"
                    }
                    }
                </con:responseContent>
            </con:response>
            <con:response name="Item 3 Response" id="ad2ecff5-c4ac-42ed-b374-5511b3afafd3" httpResponseStatus="200" mediaType="application/json" dataSource="">
                <con:settings/>
                <con:responseContent>{
                    "purchasestatus": {
                    "id": "Item 3",
                    "stockStatus": "4 towels",
                    "expectedDelivery": "Any day now..."
                    }
                    }
                </con:responseContent>
            </con:response>
            <con:response name="Item 4 Response" id="581992b8-9693-4b2f-971e-090b5552e51a" httpResponseStatus="200" mediaType="application/json" dataSource="">
                <con:settings/>
                <con:responseContent>{
                    "purchasestatus": {
                    "id": "Item 4",
                    "stockStatus": "1 unit",
                    "expectedDelivery": "In the near future."
                    }
                    }
                </con:responseContent>
            </con:response>
            <con:response name="Item 5 Response" id="fde682b4-3b1a-4fdf-a166-8fb20ecad694" httpResponseStatus="200" mediaType="application/json" dataSource="">
                <con:settings/>
                <con:responseContent>{
                    "purchasestatus": {
                    "id": "Item 5",
                    "stockStatus": "1 license",
                    "expectedDelivery": "You should already have it."
                    }
                    }
                </con:responseContent>
            </con:response>
            <con:response name="Invalid Session Id Fault" id="af76317a-9043-4586-8439-611e2e8b4e97" httpResponseStatus="401" dataSource="">
                <con:settings/>
                <con:responseContent>{ "Client" : "Invalid Session Id" }</con:responseContent>
            </con:response>
            <con:response name="Unknown Response" id="25ab6fe3-7a0b-4843-86b1-c55dd77ec699" httpResponseStatus="501" mediaType="application/json" dataSource="">
                <con:settings/>
                <con:responseContent/>
            </con:response>
            <con:response name="WildCard Response" id="ee8c008e-7ccd-4908-b894-a51d40abbb14" httpResponseStatus="200" mediaType="application/json" dataSource="">
                <con:settings/>
                <con:responseContent>{
                    "result": {
                    "item": [
                    {
                    "id": "1",
                    "description": "One handy protocol droid.",
                    "price": "1"
                    },
                    {
                    "id": "2",
                    "description": "Item nr 2",
                    "price": "2"
                    },
                    {
                    "id": "3",
                    "description": "Item nr 3",
                    "price": "3"
                    },
                    {
                    "id": "4",
                    "description": "${item4description}",
                    "price": "4"
                    },
                    {
                    "id": "5",
                    "description": "Item nr 5",
                    "price": "5"
                    }
                    ]
                    }
                    }
                </con:responseContent>
            </con:response>
        </con:restMockAction>